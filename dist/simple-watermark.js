!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Watermark=e()}(this,function(){"use strict";var i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var t=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t},r={el:document.body,position:"fixed",zIndex:2e3,width:"200px",height:"150px",textAlign:"center",textBaseline:"middle",font:"20px microsoft yahei",fillStyle:"rgba(184, 184, 184, .8)",fillText:"watermark",rotate:30};return function(){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,n),this.options=Object.assign({},r,t);var e=this.options.el;this.$el="string"==typeof e?document.querySelector(e):e||document.body,this.$wm=document.createElement("div"),this.init()}return t(n,[{key:"init",value:function(){var t=this.options,e=t.position,n=t.zIndex,i=t.width,o=t.height,r=t.textAlign,a=t.textBaseline,l=t.font,s=t.fillStyle,c=t.fillText,f=t.rotate,u=document.createElement("canvas");u.setAttribute("width",i),u.setAttribute("height",o);var d=u.getContext("2d");d.font=l,d.fillStyle=s,d.textAlign=r,d.textBaseline=a,d.translate(parseFloat(i)/2,parseFloat(o)/2),d.rotate(Math.PI/180*f),d.fillText(c,0,0);var h=u.toDataURL(),p="\n      position: ".concat(e,";\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: ").concat(n,";\n      pointer-events: none;\n      background-repeat: repeat;\n      background-image: url(").concat(h,");\n    ");this.$wm.setAttribute("style",p),this.$el.insertBefore(this.$wm,this.$el.firstChild)}},{key:"destory",value:function(){this.$el.removeChild(this.$wm)}}]),n}()});
